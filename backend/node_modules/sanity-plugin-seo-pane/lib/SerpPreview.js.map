{"version":3,"file":"SerpPreview.js","names":["MAX_CHARACTERS","splitUrl","url","urlObj","URL","urlParts","origin","pathname","push","split","filter","Boolean","length","pop","SerpPreview","title","metaDescription","maxWidth","map","part","index","color","slice","propTypes","PropTypes","string","isRequired"],"sources":["../src/SerpPreview.js"],"sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport {Inline, Stack, Text} from '@sanity/ui'\n\nimport Feedback from './Feedback'\n\nconst MAX_CHARACTERS = 145\n\nfunction splitUrl(url) {\n  const urlObj = new URL(url)\n  const urlParts = [urlObj.origin]\n\n  if (urlObj.pathname) {\n    urlParts.push(...urlObj.pathname.split(`/`).filter(Boolean))\n  }\n\n  // Remove last part if it's long-ish\n  // This is my guess as to what Google does\n  if (urlParts[urlParts.length - 1].length > 30) {\n    urlParts.pop()\n  }\n\n  return urlParts\n}\n\nexport default function SerpPreview({title, metaDescription, url}) {\n  return (\n    <Stack space={3} style={{maxWidth: 600}}>\n      {url ? (\n        <Inline space={2}>\n          {splitUrl(url).map((part, index) => (\n            <Text key={part} muted={index !== 0}>\n              {index === 0 ? part : `â€º ${part}`}\n            </Text>\n          ))}\n        </Inline>\n      ) : (\n        <Feedback padding={0}>\n          URL not found, your frontend may be missing a <code>canonical</code> tag\n        </Feedback>\n      )}\n      {title ? (\n        <Text size={3} style={{color: '#1a0dab'}}>\n          {title}\n        </Text>\n      ) : null}\n      {metaDescription ? (\n        <Text size={1}>\n          {metaDescription.length > MAX_CHARACTERS\n            ? metaDescription.slice(0, MAX_CHARACTERS) + '...'\n            : metaDescription}\n        </Text>\n      ) : null}\n    </Stack>\n  )\n}\n\nSerpPreview.propTypes = {\n  metaDescription: PropTypes.string.isRequired,\n  title: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;;;AAEA,IAAMA,cAAc,GAAG,GAAvB;;AAEA,SAASC,QAAT,CAAkBC,GAAlB,EAAuB;EACrB,IAAMC,MAAM,GAAG,IAAIC,GAAJ,CAAQF,GAAR,CAAf;EACA,IAAMG,QAAQ,GAAG,CAACF,MAAM,CAACG,MAAR,CAAjB;;EAEA,IAAIH,MAAM,CAACI,QAAX,EAAqB;IACnBF,QAAQ,CAACG,IAAT,CAAc,GAAGL,MAAM,CAACI,QAAP,CAAgBE,KAAhB,MAA2BC,MAA3B,CAAkCC,OAAlC,CAAjB;EACD,CANoB,CAQrB;EACA;;;EACA,IAAIN,QAAQ,CAACA,QAAQ,CAACO,MAAT,GAAkB,CAAnB,CAAR,CAA8BA,MAA9B,GAAuC,EAA3C,EAA+C;IAC7CP,QAAQ,CAACQ,GAAT;EACD;;EAED,OAAOR,QAAP;AACD;;AAEc,SAASS,WAAT,OAAoD;EAAA,IAA9BC,KAA8B,QAA9BA,KAA8B;EAAA,IAAvBC,eAAuB,QAAvBA,eAAuB;EAAA,IAANd,GAAM,QAANA,GAAM;EACjE,oBACE,6BAAC,SAAD;IAAO,KAAK,EAAE,CAAd;IAAiB,KAAK,EAAE;MAACe,QAAQ,EAAE;IAAX;EAAxB,GACGf,GAAG,gBACF,6BAAC,UAAD;IAAQ,KAAK,EAAE;EAAf,GACGD,QAAQ,CAACC,GAAD,CAAR,CAAcgB,GAAd,CAAkB,CAACC,IAAD,EAAOC,KAAP,kBACjB,6BAAC,QAAD;IAAM,GAAG,EAAED,IAAX;IAAiB,KAAK,EAAEC,KAAK,KAAK;EAAlC,GACGA,KAAK,KAAK,CAAV,GAAcD,IAAd,oBAA0BA,IAA1B,CADH,CADD,CADH,CADE,gBASF,6BAAC,iBAAD;IAAU,OAAO,EAAE;EAAnB,kEACgD,uDADhD,SAVJ,EAcGJ,KAAK,gBACJ,6BAAC,QAAD;IAAM,IAAI,EAAE,CAAZ;IAAe,KAAK,EAAE;MAACM,KAAK,EAAE;IAAR;EAAtB,GACGN,KADH,CADI,GAIF,IAlBN,EAmBGC,eAAe,gBACd,6BAAC,QAAD;IAAM,IAAI,EAAE;EAAZ,GACGA,eAAe,CAACJ,MAAhB,GAAyBZ,cAAzB,GACGgB,eAAe,CAACM,KAAhB,CAAsB,CAAtB,EAAyBtB,cAAzB,IAA2C,KAD9C,GAEGgB,eAHN,CADc,GAMZ,IAzBN,CADF;AA6BD;;AAEDF,WAAW,CAACS,SAAZ,GAAwB;EACtBP,eAAe,EAAEQ,kBAAA,CAAUC,MAAV,CAAiBC,UADZ;EAEtBX,KAAK,EAAES,kBAAA,CAAUC,MAAV,CAAiBC,UAFF;EAGtBxB,GAAG,EAAEsB,kBAAA,CAAUC,MAAV,CAAiBC;AAHA,CAAxB"}